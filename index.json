---
layout: null
---
[
{% for post in site.posts %}
    {% assign raw_content = post.content | strip_html | strip_newlines | replace: '&lt;', '<' | replace: '&gt;', '>' | replace: '&amp;', '&' | replace: '&nbsp;', ' ' | replace: '&#39;', '\'' %}
    
    {% assign filtered_content = "" %}
    
    {% for char in raw_content %}
        {% if char matches "[a-zA-Z0-9 .\'#]" %}
            {% assign filtered_content = filtered_content | append: char %}
        {% else %}
            {% break %}
        {% endif %}
    {% endfor %}
    
    {% if filtered_content == "" %}
        {% assign filtered_content = "UNINDEXED" %}
    {% endif %}

    {
        "id": "{{ post.id }}",
        "title": "{{ post.title | escape }}",
        "content": "{{ filtered_content | escape }}",
        "url": "{{ post.url }}"
    }{% if forloop.last == false %},{% endif %}
{% endfor %}
]
